---
title: Stratégies d'allocation
draft: false
tags:
  - SysExploitation
---
# Système de fichiers

 - Les fichiers stockent des données.
 - Les fichiers et les répertoires sont tous deux des fichiers, mais de types différents.
 - Du point de vue du FS :
	 - Un fichier ordinaire contient les données du fichier
	 - Un [[Directories (répertoires)#Définition|répertoire]] contient des entrées de répertoire
- Fichiers et répertoires sont représentés de la même manière, mais leurs contenus sont différents.

Un fichier est composé de deux parties : [[Inodes#Définition||métadonnées]] et des données
# Stratégies d'allocation des blocs de données

La création d'un fichier ou d'un répertoire nécessite **d'allouer des blocs**
La stratégie d'allocation des blocs de données (contenu) doit :
- être efficace en termes d'espace
- garantir un accès rapide aux fichiers
# Métriques d'allocation de blocs
## Métriques principales

- **Capacité d'extension des fichiers** : Le système permet-il aux fichiers de s'agrandir facilement lorsque des données supplémentaires y sont ajoutées ?
- **Performance des accès séquentiels** : Quelle est l'efficacité lorsque des données sont lues ou écrites de manière continue, dans l'ordre où elles sont stockées ?
- **Performance des accès aléatoires** : Quelle est la rapidité des accès à des données situées à des emplacements non contigus du fichier ?
- **Facilité d'implémentation** : Est-ce que la méthode d'allocation de blocs est simple à mettre en œuvre dans le système ?
- **Efficacité du stockage (overhead)** : Quelle part de l'espace de stockage est utilisée pour gérer le système lui-même (métadonnées, gestion des blocs, etc.) par rapport à l'espace réellement disponible pour les données ?
- **Fragmentation** : Quelle est la tendance à ce que l'espace de stockage soit morcelé, ce qui peut réduire la performance ou la capacité de stockage disponible ?
# Fragmentation
## Interne

- **L'espace mémoire alloué pour un fichier est plus grand que l'espace réellement nécessaire.**
- **Cet espace alloué mais non utilisé est perdu**, ce qui entraîne du gaspillage de stockage.

![[Pasted image 20240926115815.png]]
## Externe
- Même si l'espace libre total est suffisant, il est **réparti en petits morceaux non contigus.**
- Il devient donc **impossible de répondre à une demande d'allocation de grande taille.**

![[Pasted image 20241008152908.png]]
# Principales stratégies d'allocation de blocs

Le choix de la stratégie d'allocation dépend de :
- la technologie de stockage
- la stratégie d'accès et le type d'utilisation (lecture seule, gros fichiers...)
## Les stratégies d'allocation principales

1. [[Stratégies d'allocation#Contiguë|Contiguë]]
2. Liste chaînée
3. Indexée
## Contiguë

Chaque fichier **utilise un ensemble de blocs contigus**, les fichiers sont représenté par :
- L'index du premier bloc du fichier
- La taille du fichier
### Exemple

![[Pasted image 20241008153307.png]]
